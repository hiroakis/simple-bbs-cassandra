{% extends 'base.html' %}


{% block content_body %}
<div class="row">
  <div class="span6">
    <h3 id="page-top">Thread list</h3>
    <span><a href="#post-form">Create new thread</a></span>
  </div>
</div>

<hr>

<div class="row">
  <div class="span4">
    <form class="form-inline">
      Search: <i class="icon-search"></i> <input type="text" id="search" placeholder="Thread Filter">
    </form>
  </div>
</div>

<div class="row">
  <div class="span9">
    <table id="tbl" class="table table-striped table-condensed">
      <tr>
        <th>No.</th>
        <th>Title</th>
        <th>Created</th>
        <th>Updated</th>
      </tr>
      {% for d in data %}
      <tr class="threads">
        <td> {{ loop.index }} </td>
        <td> <a href="/{{ d.thread_id }}/">{{ d.thread_name}} ({{ d.post_count }})</a> </td>
        <td> {{ d.create_time}} </td>
        <td> {{ d.update_time}} </td>
      </tr>
      {% endfor %}
    </table>
  </div>
</div>

<div class="row">
  <div class="span9">
    <h3 id="post-form">Create new thread</h3>
    <form method="post" action="/create_thread">
      <div class="controls">
        <input class="input-large" name="thread_name" type="text" placeholder="thread title">
      </div>
      <div class="controls">
        <input class="input-small" name="name" type="text" placeholder="your name">
      </div>
      <div class="controls">
        <textarea name="content" rows="3" placeholder="your opinion"></textarea>
      </div>
      <div class="controls">
        <button type="submit" class="btn btn-primary">submit</button>
      </div>
    </form>
  </div>
</div><!--/row-->
<div class="row">
  <div class="span9">
    <span><a href="#page-top">go to the top</a></span>
  </div>
</div>
{% endblock %}


{% block script %}
<script src="/static/js/jquery-1.8.2.min.js" type="text/javascript"></script>
<script src="/static/js/jquery.quicksearch.js" type="text/javascript"></script>
<script type="text/javascript">
    $('input#search').quicksearch('table#tbl tr.threads', {
        delay: 300,
    });
</script>
{% endblock %}

